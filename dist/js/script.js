class MBirdFilter{constructor(e,r,t,o,i){this.filterFormData=jQuery("#mbird-filter-form").serialize(),this._init()}_init(){jQuery("#mbird-filter-form").on("submit",e=>{e.preventDefault()}),jQuery("#mbird-filter-form").on("change",e=>{e.preventDefault()}),this._loadData()}_loadData(){jQuery("#mbird-filter-loader").show();var e=jQuery('input[name="shortcode_atts"]').val();jQuery.ajax({url:mbirdFilters.ajaxurl,type:"POST",data:{action:"mbird_initial_load",security:jQuery("#mbird_filter_nonce_field").val(),shortcode_atts:e},success:function(e){console.log("AJAX response:",e),jQuery("#mbird-filter-results").append(e)},error:function(e,r,t){console.error("AJAX error:",r,t)},complete:()=>{jQuery("#mbird-filter-loader").hide()}})}_runFilters(){var e=jQuery("#mbird-filter-form").serialize();jQuery.ajax({url:mbirdFilters.ajaxurl,type:"POST",data:{action:"mbird_filter",security:jQuery("#mbird_filter_nonce_field").val(),terms:e},success:function(e){console.log("AJAX response:",e)},error:function(e,r,t){console.error("AJAX error:",r,t)}})}}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".dropdown-toggle").forEach(function(e){e.addEventListener("click",function(){var e=this.getAttribute("id").replace("Button","");let r=document.getElementById(e);e=this.querySelector(".arrow");document.querySelectorAll(".dropdown-menu").forEach(function(e){e!==r&&e.classList.contains("show")&&(e.classList.remove("show"),document.querySelectorAll(".mbird-filter .arrow").forEach(e=>{e.classList.remove("open")}))}),r.classList.toggle("show"),e.classList.toggle("open")})}),document.addEventListener("click",function(e){e.target.matches(".dropdown-toggle")||document.querySelectorAll(".dropdown-menu").forEach(function(e){e.classList.contains("show")&&(e.classList.remove("show"),document.querySelectorAll(".mbird-filter .arrow").forEach(e=>{e.classList.remove("open")}))})}),document.querySelectorAll(".filter-checkbox").forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation()})}),document.querySelectorAll(".dropdown-item label").forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation()})})});